---
title: javascript基础(三)-严格模式
date: 2019-05-07 15:36:32
tags: js
categories: js
---

> 本文译自[The modern mode, "use strict"](https://javascript.info/strict-mode)

## 严格模式
很长一段时间，JavaScript的发展没有出现兼容性问题。新的特性被添加到语言中，而旧的特性没有改变。
这样做的好处是永远不会破坏现有的代码。但缺点是JavaScript的创建者所犯的任何错误或不完美的决定都将永远保留在该语言中。

这种情况一直持续到2009年ECMAScript 5 (ES5)出现。它为该语言添加了新的功能，并修改了一些现有的功能。为了保持旧代码正常工作，大多数修改在默认情况下是关闭的。您需要使用一个特殊的指令显式地启用它们：“use strict”。

## use strict
这个指令看起来像字符串："use strict"或'use strict'。当它出现在代码的顶部，整个代码都将以严格模式运行。

```javascript
"use strict";

// 下面的代码以严格模式运行
...
```

不久我们将学习的函数（一种对命令进行分组的方法），注意到“use strict”可以放在大多数函数的开头，而不是整个脚本。这样做只能在该函数中启用严格模式。但通常，人们在整个脚本中都会用到它。

<b>确保“use strict”在顶部</b>，否则严格模式不起作用。下面这种写法就不起作用：

```javascript
alert("some code");
// 下面的"use strict"会被忽略 --它必须在顶部

"use strict";

// 严格模式没有激活
```
只有注释可以出现在"use strict"前面。

<div class="tip">
无法取消严格模式
<p>没有像`"no use strict"`这样的指令来将引擎恢复到旧的行为。</p>
一旦我们进入严格模式，就回不去了。
</div>

## 浏览器控制台
将来，当您使用浏览器控制台测试特性时，请注意它在默认情况下不使用strict。
有时候，当使用strict时，您会得到不正确的结果。
即使我们按Shift+Enter来输入多行，并将use strict放在顶部，它也不能工作。这是控制台内部执行代码的方式造成的。
确保严格模式的可靠方法是将代码输入控制台，如下所示:

```javascript
(function() {
  'use strict';

  // ...你的代码...
})()
```

## 总是使用“use strict”
我们还没有讨论严格模式和“默认”模式之间的区别。
下个章节学习语言特性时，我们将注意到严格模式和默认模式的区别，幸运的是，这样的例子并不多，但它们确实让我们的生活变得更好。
现在，我们知道个大概就够了：

1、“use strict”指令将引擎切换到“modern”模式，改变了一些内置特性的行为。我们将在本教程的后面看到详细信息。
2、通过在脚本或函数的顶部放置“use Strict”，可以启用严格模式。一些语言特性，如“classes”和“modules”，可以自动启用严格模式。
3、所有的现代浏览器都支持严格模式。
4、我们建议在脚本顶部放置“use strict”。本教程中的所有示例都采用严格模式，除非(很少)另行指定。
